#!/bin/bash
#SBATCH -p memory
#SBATCH -n 1 -c 64
#SBATCH -t 24:00:00
#SBATCH -J BWAjob_ryan
#SBATCH -A proj5034

module purge
module load SAMtools/1.9-intel-2019b

genomes=(
  "CFC1M_DKDN220024650-1A_HNV55DSX5_L4"
  "CFC6FM_DKDN220019935-1A_HNCLGDSX5_L4"
  "CFFM3_DKDN220019936-1A_HNCLGDSX5_L4"
  "CFM4_DKDN220024651-1A_HNVCCDSX5_L4"
  "CFM4_DKDN220024651-1A_HNVKNDSX5_L2"
  "DT11FM_DKDN220019928-1A_HNV57DSX5_L1"
  "DT15M_DKDN220019926-1A_HNCLGDSX5_L4"
  "DT2FM_DKDN220019927-1A_HNCLGDSX5_L4"
  "DT5M_DKDN220019925-1A_HNCLGDSX5_L4"
  "FC61M_DKDN220019909-1A_HNG3KDSX5_L3"
  "FC62M_DKDN220019910-1A_HNG3KDSX5_L3"
  "FC69FM_DKDN220019912-1A_HNG3KDSX5_L3"
  "FC71FM_DKDN220019911-1A_HNG3KDSX5_L4"
  "FLC2M_DKDN220024649-1A_HNV55DSX5_L4"
  "FLC6FM_DKDN220019931-1A_HNCLGDSX5_L4"
  "FLFM5_DKDN220019932-1A_HNCLGDSX5_L4"
  "FLM2_DKDN220019930-1A_HNG3YDSX5_L1"
  "FLM2_DKDN220019930-1A_HNGCGDSX5_L1"
  "GGAR10FM_DKDN220019903-1A_HNG3KDSX5_L3"
  "GGAR14FM_DKDN220019904-1A_HNG3YDSX5_L1"
  "GGAR3M_DKDN220019901-1A_HNCLGDSX5_L4"
  "GGAR5M_DKDN220019902-1A_HNG3KDSX5_L3"
  "GGAW17FM_DKDN220019899-1A_HNG3KDSX5_L3"
  "GGAW20FM_DKDN220019900-1A_HNG3KDSX5_L3"
  "GGAW3M_DKDN220019897-1A_HNG3KDSX5_L3"
  "GGAW5M_DKDN220019898-1A_HNG3KDSX5_L3"
  "LHK37M_DKDN220019905-1A_HNG3KDSX5_L3"
  "LHK59FM_DKDN220019907-1A_HNG3KDSX5_L3"
  "LHK65FM_DKDN220019908-1A_HNG3KDSX5_L3"
  "LHK88M_DKDN220019906-1A_HNG3KDSX5_L3"
  "MHS5FM_DKDN220019920-1A_HNG3KDSX5_L3"
  "MHSFM7_DKDN220019919-1A_HNG3KDSX5_L3"
  "MHSM6_DKDN220024647-1A_HNV55DSX5_L4"
  "MHSM6_DKDN220024647-1A_HNVKNDSX5_L3"
  "MHSM6F_DKDN220024648-1A_HNV55DSX5_L4"
  "PD11M_DKDN220019914-1A_HNG3KDSX5_L3"
  "PD17FM_DKDN220019915-1A_HNG3KDSX5_L4"
  "PD19FM_DKDN220019916-1A_HNG3KDSX5_L3"
  "PD5M_DKDN220019913-1A_HNG3KDSX5_L3"
  "SDFM10_DKDN220019924-1A_HNCLGDSX5_L4"
  "SDFM9_DKDN220019923-1A_HNG3KDSX5_L4"
  "SDM5_DKDN220019921-1A_HNG3KDSX5_L4"
  "SDM7_DKDN220019922-1A_HNG3KDSX5_L4"
)
mkdir -p "data/only-map_v2agb"
for genome in "${genomes[@]}"
do
  echo "${genome}"
  samtools view -@ 64 -h -F 4 "data/raw_sam_v2agb/${genome}.sam" > "data/only-map_v2agb/${genome}.sam"
done
echo "map filter Done"
