#!/bin/bash
#SBATCH -p memory
#SBATCH -n 1 -c 96
#SBATCH -t 72:00:00
#SBATCH -J 2_map_to_target
#SBATCH -A proj5034

module purge
module load BWA/0.7.17-intel-2019b

genomes=(
  "SRR20726277"
  "SRR20726278"
  "SRR20726279"
  "SRR20726280"
  "SRR21763962"
  "SRR24164628"
  "SRR24164629"
  "SRR24164630"
  "SRR24164631"
  "SRR24164632"
  "SRR24263462"
  "SRR24263463"
  "SRR24263464"
  "SRR24263465"
  "SRR24263466"
  "SRR24263467"
  "SRR24263468"
  "SRR24263469"
  "SRR24263470"
  "SRR24263471"
  "SRR24263472"
  "SRR24263473"
  "SRR24263474"
  "SRR24263475"
  "SRR24263476"
  "SRR24263477"
  "SRR24263478"
  "SRR24263479"
  "SRR24263480"
  "SRR24263481"
  "SRR24263482"
  "SRR24263483"
  "SRR24263484"
  "SRR24263485"
  "SRR24263486"
  "SRR24263487"
  "SRR24263488"
  "SRR24263489"
  "SRR24263490"
  "SRR24263491"
  "SRR24608364"
  "SRR24608365"
  "SRR24608366"
  "SRR24608367"
  "SRR24608368"
  "SRR24608369"
  "SRR24608370"
  "SRR24608371"
  "SRR24608372"
  "SRR24608373"
  "SRR24608374"
  "SRR24608375"
  "SRR24608376"
  "SRR24608377"
  "SRR24608378"
  "SRR24608379"
  "SRR24608380"
  "SRR24608381"
  "SRR24608382"
  "SRR24608383"
  "SRR24608384"
  "SRR24608385"
  "SRR24608386"
  "SRR24608387"
  "SRR24608388"
  "SRR24608389"
  "SRR24608390"
  "SRR24608391"
  "SRR24608392"
  "SRR24608393"
  "SRR24608394"
  "SRR24608395"
  "SRR24608396"
  "SRR24608397"
  "SRR24608398"
  "SRR24608399"
  "SRR24608400"
  "SRR24608401"
  "SRR24608402"
  "SRR24608403"
  "SRR24608404"
  "SRR24608405"
  "SRR24608406"
  "SRR24608407"
  "SRR24608408"
  "SRR24608409"
  "SRR24608410"
  "SRR24608411"
  "SRR24608412"
  "SRR24608413"
  "SRR24608414"
  "SRR24608415"
  "SRR24608416"
  "SRR24608417"
  "SRR24608418"
  "SRR24608419"
  "SRR24608420"
  "SRR24608421"
  "SRR24608422"
  "SRR24608423"
  "SRR24608424"
  "SRR24608425"
  "SRR24608426"
  "SRR24608427"
  "SRR24608428"
  "SRR24608429"
  "SRR24608430"
  "SRR24608431"
  "SRR24608432"
  "SRR24608433"
  "SRR24608434"
  "SRR24608435"
  "SRR24608436"
  "SRR24608437"
  "SRR24608438"
  "SRR24608439"
  "SRR24608440"
  "SRR24608441"
  "SRR24608442"
  "SRR24608443"
  "SRR24608444"
  "SRR24608445"
  "SRR24608446"
  "SRR24608447"
  "SRR24608448"
  "SRR24608449"
  "SRR24608450"
  "SRR24608451"
  "SRR24608452"
  "SRR24608453"
)

FQ_DIR=/tarafs/scratch/proj5034-AGBKU/genome_NCBI/trimmed
for genome in "${genomes[@]}"
do
  echo "${genome}"
  bwa mem -t 96 \
    "data/fasta_seqs/target.fa" \
    "${FQ_DIR}/${genome}_trimmed.fq" \
    > "data/raw_sam/${genome}.sam"
done